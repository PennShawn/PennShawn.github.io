
---
title: 帧同步与状态同步
categories: 
 - 技术
tags:
 - 网络
---


#### 帧同步
- 帧同步是为了实现高实时性,高同步性而产生的,比如王者荣耀

- 一个客户端的操作会发给给服务器,服务器再将操作转发给其他客户端.例如我们游戏的跨服PVE玩法.

- 这种方式对数据可靠性要求高,中间指令不能丢失了,所以一般采用TCP或者KCP协议

### 状态同步
- 同步的是游戏中的状态,一般流程是客户端上传操作到服务器,服务器收到后计算游戏行为的结果,然后以广播的形式发送状态到客户端,客户端再根据消息展示效果.
- 状态同步对延迟要求并不算高,像完RPG游戏中,只需要保证大家操作的结果最后都一样就行.
- 国产RPG经常把特效做得特别华丽,这样就能在播放特效的时候将操作传给服务器计算出结果.
- 状态同步必须计算场景中的所有实体情况,所以MMO(比如魔兽世界)就是状态同步的,客户端的性能是不足以计算整张图的数据的.



##### 注
- 帧同步需要同步服务器的随机种子,不能使用自己本地的
- 状态同步的安全性比帧同步高,帧同步的所有数据都在客户端,所以moba类游戏才有全图挂,吃鸡才有透视挂
- 状态同步的重连很好做,就是把当前的场景全部重新生成一遍.帧同步的话,服务器就得把客户端断线期间的场景中所有的操作都发给客户端,客户端再加速播放来追上进度.比如风暴每次重连都很慢...
